<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLAR</title>
    <link rel="stylesheet" href="/stylesheet/userlogin.css">

    <style>
        .error-message {
            color: rgb(244, 244, 244);
            position: absolute;
            font-size: 14px;
            right: 500px;
            width: 210px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.123);
        }
    </style>
    <script>
        function validateForm() {
            var email = document.forms["LoginForm"]["email"].value;
            var password = document.forms["LoginForm"]["password"].value;
            var confirmPassword = document.forms["LoginForm"]["confirmPassword"].value;

            document.getElementById("emailError1").innerText = "";
            document.getElementById("passwordError1").innerText = "";
            document.getElementById("confirmPasswordError1").innerText = "";

            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById("emailError1").innerText = "Please enter a valid email address";
                return false;
            }

            if (password === "") {
                document.getElementById("passwordError1").innerText = "Please enter your password";
                return false;
            }

            if (confirmPassword === "") {
                document.getElementById("confirmPasswordError1").innerText = "Please confirm your password";
                return false;
            }

            if (password !== confirmPassword) {
                document.getElementById("confirmPasswordError1").innerText = "Passwords do not match";
                return false;
            }

            return true;
        }
    </script>
</head>

<body>
    <div class="wrapper">

        <% if (typeof message !== 'undefined') { %>
            <div class="Errormsg" style="color: rgb(255, 255, 255);">
              <h4><%= message %></h4>
            </div>
          <% } %>

        <form name="LoginForm" action="/login" method="POST" onsubmit="return validateForm()">
            <h2>Login</h2>
            <div class="input-field">
                <input type="text" name="email">
                <label>Enter your email</label>
                <span id="emailError1" class="error-message"></span>
            </div>
            <div class="input-field">
                <input type="password" name="password">
                <label>Enter your password</label>
                <span id="passwordError1" class="error-message"></span>
            </div>
            <!-- <div class="input-field">
                <input type="password" name="confirmPassword">
                <label>Confirm Password</label>
                <span id="confirmPasswordError1" class="error-message"></span>
            </div> -->
            <div class="forget">
                <a href="/forgetPassword">Forgot password?</a>
            </div>
            <button type="submit">Log In</button>
            <div class="register">
                <p>Don't have an account? <a href="getRegister">Register</a></p>
            </div>
        </form>
    </div>
</body>

</html>
